<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Todogram - Películas"> <!-- Fallback para bots -->
    <meta property="og:description" content="Explora las mejores películas en Todogram."> <!-- Fallback para bots -->
    <meta property="og:image" content="https://via.placeholder.com/194x271"> <!-- Fallback para bots -->
    <meta property="og:url" content="https://jfl4bur.github.io/Todogram/public/template/movie-template.html"> <!-- Fallback para bots -->
    <meta name="twitter:card" content="summary_large_image"> <!-- Fallback para bots -->
    <meta name="twitter:title" content="Todogram - Películas"> <!-- Fallback para bots -->
    <meta name="twitter:description" content="Explora las mejores películas en Todogram."> <!-- Fallback para bots -->
    <meta name="twitter:image" content="https://via.placeholder.com/194x271"> <!-- Fallback para bots -->
    <script>
        // Extraer parámetros de la URL
        const urlParams = new URLSearchParams(window.location.search);
        const title = urlParams.get('title') || 'Todogram - Películas';
        const description = urlParams.get('description') || 'Explora las mejores películas en Todogram.';
        const image = urlParams.get('image') || 'https://via.placeholder.com/194x271'; // Fallback público
        const originalUrl = urlParams.get('originalUrl') || 'https://todogram.softr.app';
        const hash = urlParams.get('hash') || '';

        // Actualizar metadatos para usuarios (no para bots)
        document.querySelector('meta[property="og:title"]').setAttribute('content', title);
        document.querySelector('meta[property="og:description"]').setAttribute('content', description);
        document.querySelector('meta[property="og:image"]').setAttribute('content', image);
        document.querySelector('meta[property="og:url"]').setAttribute('content', window.location.href);
        document.querySelector('meta[name="twitter:title"]').setAttribute('content', title);
        document.querySelector('meta[name="twitter:description"]').setAttribute('content', description);
        document.querySelector('meta[name="twitter:image"]').setAttribute('content', image);

        // Redirigir a la URL original con hash después de 1 segundo
        // Si hay hash en los parámetros, usarlo; si no, mantener la URL base
        setTimeout(() => {
            const redirectUrl = hash ? originalUrl + (hash.startsWith('#') ? hash : '#' + hash) : originalUrl;
            window.location.href = redirectUrl;
        }, 1000);
    </script>
</head>
<body>
    <h1>Cargando...</h1>
</body>
</html>